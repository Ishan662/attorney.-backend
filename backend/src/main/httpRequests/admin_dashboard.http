### =================================================================
### Admin Dashboard Statistics - Test File
### =================================================================

### File-level variable for the Admin's authentication token.
### !! IMPORTANT !!
### Replace this placeholder with a REAL, valid Firebase ID Token from a logged-in ADMIN user.
@admin_auth_token = Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6ImVmMjQ4ZjQyZjc0YWUwZjk0OTIwYWY5YTlhMDEzMTdlZjJkMzVmZTEiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vYXR0b3JuZXktNDU4NjIiLCJhdWQiOiJhdHRvcm5leS00NTg2MiIsImF1dGhfdGltZSI6MTc1NzE0NjkxNCwidXNlcl9pZCI6IlQwVjF5RjV2UUFoTDVlWmt0OTNGVFdCYjlwTjIiLCJzdWIiOiJUMFYxeUY1dlFBaEw1ZVprdDkzRlRXQmI5cE4yIiwiaWF0IjoxNzU3MTQ2OTE0LCJleHAiOjE3NTcxNTA1MTQsImVtYWlsIjoiZGFyc2hhbmEyMDIxc3VqYW5AZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZW1haWwiOlsiZGFyc2hhbmEyMDIxc3VqYW5AZ21haWwuY29tIl19LCJzaWduX2luX3Byb3ZpZGVyIjoicGFzc3dvcmQifX0.KO2tg-9TrUcqoU5ogwSs60IyGQZK1KKfSc0n2bZvO2Zg1TW1e3ve62FnjfSunvmSZfryH9ni6GAm8ebSohefsgdfsV4oIrvwvHrPP-PVTG4qv9rTjK02UnwOYP-OJVweDW__aG41iSdLKBZ87j55lRxoSZMreGjDSOo5oVTN_DEZrygrzSddhGD9M5bOcyl32m8kiMsoXwJhJfAoON0YUiFoeYIVr4Xwif2cRWClckrlK5xkZlsPtzJUJDy4Imr09V8nwV_OOuXaNToP9Jq-mSThrXYUGVJcfVC3R6kBpp76Aff1yj__o3nppTSz29bcyng44gOpnzBIpQvpkkouqw



### =================================================================
### 1. Get Simple User Counts (GET /api/admin/users/counts)
### =================================================================
# This tests your first statistics endpoint.
# It should return a simple JSON object with the total count for each role.
# This request will FAIL with a 403 Forbidden if the token is not from an ADMIN.
GET http://localhost:8080/api/admin/users/counts
Authorization: {{admin_auth_token}}

### Expected Response Example:
# HTTP/1.1 200 OK
# Content-Type: application/json
#
# {
#   "lawyers": 5,
#   "juniors": 12,
#   "clients": 47,
#   "researchers": 2
# }


### =================================================================
### 2. Get Detailed Dashboard Statistics (GET /api/admin/users/dashboard-stats)
### =================================================================
# This tests your new, more detailed statistics endpoint.
# It will only succeed if the token belongs to an 'ADMIN'.
GET http://localhost:8080/api/admin/users/dashboard-stats
Authorization: {{admin_auth_token}}

### Expected Response Example:
# HTTP/1.1 200 OK
# Content-Type: application/json
#
# {
#   "totalLawyers": 5,
#   "activeLawyers": 4,
#   "inactiveLawyers": 1,
#   "totalJuniors": 12,
#   "activeJuniors": 10,
#   "totalClients": 47,
#   "activeClients": 45,
#   "totalResearchers": 2,
#   "newSignupsThisMonth": 1
# }


### =================================================================
### 3. Test Failure Case: Non-Admin Access to Dashboard Stats
### =================================================================
# !! IMPORTANT !!
# For this test, manually replace {{admin_auth_token}} with a token from a regular LAWYER user.
# This request is EXPECTED TO FAIL with a 403 Forbidden status because
# the endpoint is protected by the @PreAuthorize("hasRole('ADMIN')") annotation.
GET http://localhost:8080/api/admin/users/dashboard-stats
# Replace the line below with a lawyer's token to test
Authorization: {{admin_auth_token}}